<!DOCTYPE html>
<html>
<head>
  <title>Edit Goal</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <header class="site-header">
    <nav class="header-nav">
      <a href="/goals" class="nav-btn">Home</a>
      <a href="/goals/new" class="nav-btn">Create New</a>
      <% if (typeof user !== 'undefined' && user) { %>
        <span class="nav-user">Welcome, <%= user.username %></span>
 
        <a href="/logout" class="nav-btn">Logout</a>
      <% } else { %>
        <a href="/login" class="nav-btn">Login</a>
        <a href="/register" class="nav-btn">Register</a>
      <% } %>
    </nav>
  </header>
  <h1>Edit Goal: <%= goal.title %></h1>
  <form action="/goals/<%= goal.id %>" method="POST" class="goal-form">
    <label class="form-label">Title: <input type="text" name="title" value="<%= goal.title %>" required></label><br>
    <label class="form-label">Type: 
      <select name="type">
        <option value="weight_loss" <%= goal.type === 'weight_loss' ? 'selected' : '' %>>Weight Loss</option>
        <option value="running" <%= goal.type === 'running' ? 'selected' : '' %>>Running</option>
        <option value="strength" <%= goal.type === 'strength' ? 'selected' : '' %>>Strength</option>
      </select>
    </label><br>
    <label class="form-label">Target Value: <input type="number" name="target_value" value="<%= goal.target_value %>" required></label><br>
    <label class="form-label">Starting Value: <input type="number" name="starting_value" value="<%= goal.starting_value %>" required></label><br>
    <label class="form-label">Units: <input type="text" name="units" value="<%= goal.units %>" required></label><br>
    <label class="form-label">Current Progress: <input type="number" name="current_progress" value="<%= goal.current_progress %>" required></label><br>
    <label class="form-label">Deadline: <input type="date" name="deadline" value="<%= goal.deadline %>"></label><br>
    <label class="form-label">
      <input type="checkbox" name="status" value="active" <%= goal.status === 'active' ? 'checked' : '' %>>
      Active
    </label><br>
    <button type="submit" class="submit-btn">Update Goal</button>
  </form>
</body>
</html>